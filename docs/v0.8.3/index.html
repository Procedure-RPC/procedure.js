<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@procedure-rpc/procedure.js - v0.8.3</title><meta name="description" content="Documentation for @procedure-rpc/procedure.js - v0.8.3"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><select id="plugin-versions-select" class="title" name="versions"></select><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@procedure-rpc/procedure.js - v0.8.3</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<h2>@procedure-rpc/procedure.js - v0.8.3</h2></div>
<div class="tsd-panel tsd-typography"><center>


<a href="#procedurejs-ðŸ”—" id="procedurejs-ðŸ”—" style="color: inherit; text-decoration: none;">
  <h1>procedure.js ðŸ”—</h1>
</a>
<p>The simple RPC framework for Node.js.</p>
<p><a href="https://npmjs.org/package/@procedure-rpc/procedure.js" title="View procedure.js on npm"><img src="https://img.shields.io/npm/v/@procedure-rpc/procedure.js.svg?logo=npm&label&labelColor=222&style=flat-square" alt="npm package version"></a> <a href="https://npmjs.org/package/@procedure-rpc/procedure.js" title="View procedure.js on npm"><img src="https://img.shields.io/npm/dw/@procedure-rpc/procedure.js.svg?logo=npm&labelColor=222&style=flat-square" alt="npm package downloads"></a> <a href="https://procedure-rpc.github.io/procedure.js" title="Read the documentation on Github Pages"><img src="https://img.shields.io/badge/docs-informational.svg?logo=typescript&labelColor=222&style=flat-square" alt="typedocs"></a> <a href="https://codecov.io/gh/procedure-rpc/procedure.js" title="View code coverage on Codecov"><img src="https://img.shields.io/codecov/c/github/procedure-rpc/procedure.js.svg?logo=codecov&labelColor=222&style=flat-square" alt="coverage"></a> <a href="https://www.codefactor.io/repository/github/procedure-rpc/procedure.js" title="View code quality on CodeFactor"><img src="https://img.shields.io/codefactor/grade/github/procedure-rpc/procedure.js.svg?logo=codefactor&labelColor=222&style=flat-square" alt="code quality"></a> <a href="https://github.com/toebeann/signals/blob/main/LICENSE" title="View the license on GitHub"><img src="https://img.shields.io/github/license/procedure-rpc/procedure.js.svg?color=informational&labelColor=222&style=flat-square" alt="license"></a></p>
<p><a href="https://github.com/Procedure-RPC/procedure.js/actions/workflows/npm-test.yml" title="View npm test on GitHub Actions"><img src="https://img.shields.io/github/workflow/status/procedure-rpc/procedure.js/npm%20test.svg?logo=github&logoColor=aaa&label=npm%20test&labelColor=222&style=flat-square" alt="npm test"></a> <a href="https://github.com/Procedure-RPC/procedure.js/actions/workflows/publish-code-coverage.yml" title="View publish code coverage on GitHub Actions"><img src="https://img.shields.io/github/workflow/status/procedure-rpc/procedure.js/publish%20code%20coverage.svg?logo=github&logoColor=aaa&label=publish%20code%20coverage&labelColor=222&style=flat-square" alt="publish code coverage"></a> <a href="https://github.com/Procedure-RPC/procedure.js/actions/workflows/publish-package.yml" title="View publish package on GitHub Actions"><img src="https://img.shields.io/github/workflow/status/procedure-rpc/procedure.js/publish%20package.svg?logo=github&logoColor=aaa&label=publish%20package&labelColor=222&style=flat-square" alt="publish package"></a> <a href="https://github.com/Procedure-RPC/procedure.js/actions/workflows/publish-docs.yml" title="View publish docs on GitHub Actions"><img src="https://img.shields.io/github/workflow/status/procedure-rpc/procedure.js/publish%20docs.svg?logo=github&logoColor=aaa&label=publish%20docs&labelColor=222&style=flat-square" alt="publish docs"></a></p>
<p><a href="https://github.com/procedure-rpc/procedure.js" title="View procedure.js on GitHub"><img src="https://img.shields.io/badge/source-informational.svg?logo=github&labelColor=222&style=flat-square" alt="github"></a> <a href="https://twitter.com/toebean__" title="Follow @toebean__ on Twitter"><img src="https://img.shields.io/badge/follow-blue.svg?logo=twitter&label&labelColor=222&style=flat-square" alt="twitter"></a> <a href="https://github.com/sponsors/toebeann" title="Sponsor procedure.js on GitHub"><img src="https://img.shields.io/badge/sponsor-e5b.svg?logo=github%20sponsors&labelColor=222&style=flat-square" alt="GitHub Sponsors donation button"></a> <a href="https://paypal.me/tobeyblaber" title="Donate to procedure.js with PayPal"><img src="https://img.shields.io/badge/donate-e5b.svg?logo=paypal&labelColor=222&style=flat-square" alt="PayPal donation button"></a></p>
</center>


<a href="#description" id="description" style="color: inherit; text-decoration: none;">
  <h2>Description</h2>
</a>
<p>A lightweight alternative to the boilerplate-heavy gRPC, or spinning up a HTTP server and REST API. Procedure links your independent applications and services with as little code as possible, so that you can just focus on building your app!</p>
<pre><code class="language-js"><span class="hl-0">// my-app/index.js</span><br/><br/><span class="hl-0">// a simple procedure which returns the square of a given number</span><br/><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">procedure</span><span class="hl-2"> = </span><span class="hl-1">new</span><span class="hl-2"> </span><span class="hl-4">Procedure</span><span class="hl-2">((</span><span class="hl-5">n</span><span class="hl-2">) </span><span class="hl-1">=&gt;</span><span class="hl-2"> </span><span class="hl-5">n</span><span class="hl-2"> ** </span><span class="hl-6">2</span><span class="hl-2">).</span><span class="hl-4">bind</span><span class="hl-2">(</span><span class="hl-7">&quot;tcp://*:5000&quot;</span><span class="hl-2">);</span>
</code></pre>
<pre><code class="language-js"><span class="hl-0">// some-other-app/index.js</span><br/><br/><span class="hl-0">// calling the procedure to find the square of 8</span><br/><span class="hl-1">let</span><span class="hl-2"> </span><span class="hl-5">squared</span><span class="hl-2"> = </span><span class="hl-8">await</span><span class="hl-2"> </span><span class="hl-4">call</span><span class="hl-2">(</span><span class="hl-7">&quot;tcp://localhost:5000&quot;</span><span class="hl-2">, </span><span class="hl-6">8</span><span class="hl-2">);</span><br/><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-4">log</span><span class="hl-2">(</span><span class="hl-5">squared</span><span class="hl-2">); </span><span class="hl-0">// outputs 64</span>
</code></pre>
<p>Procedure allows you to define procedures which can be called over <a href="#tcp-intrainter-network-over-tcpip">TCP</a>, <a href="#ws-intrainter-network-over-websockets">WebSockets</a>, <a href="#ipc-intrainterprocess">IPC</a>, and <a href="#inproc-intraprocess">across threads or modules in the same process</a>. Use whichever <a href="#transports-more-than-just-tcp">transport</a> is most appropriate for your use case, or mix-and-match!</p>
<!-- Placeholder for when the .NET implementation is ready

With [implementations in multiple languages](#language-implementations), applications written in C#, JavaScript, and others can interface together with ease!

-->


<a href="#table-of-contents" id="table-of-contents" style="color: inherit; text-decoration: none;">
  <h2>Table of contents</h2>
</a>
<ul>
<li><a href="#procedurejs-">procedure.js ðŸ”—</a><ul>
<li><a href="#description">Description</a></li>
<li><a href="#table-of-contents">Table of contents</a></li>
<li><a href="#install">Install</a><ul>
<li><a href="#npm">npm</a></li>
</ul>
</li>
<li><a href="#usage">Usage</a><ul>
<li><a href="#asyncawait"><code>async</code>/<code>await</code></a></li>
<li><a href="#parameters-and-return-types">Parameters and return types</a><ul>
<li><a href="#a-note-about-null-and-undefined">A note about <code>null</code> and <code>undefined</code></a><ul>
<li><a href="#optional-parameter-support">Optional parameter support</a></li>
<li><a href="#null-and-undefined-properties"><code>null</code> and <code>undefined</code> properties</a></li>
</ul>
</li>
<li><a href="#pass-by-reference">Pass by reference?</a></li>
</ul>
</li>
<li><a href="#error-handling">Error handling</a><ul>
<li><a href="#custom-error-messages">Custom error messages</a></li>
<li><a href="#custom-error-data">Custom error data</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#api-reference">API reference</a><ul>
<li><a href="#quick-links">Quick links</a></li>
</ul>
</li>
<li><a href="#transports-more-than-just-tcp">Transports: More than just TCP!</a><ul>
<li><a href="#inproc-intraprocess">INPROC: intraprocess</a></li>
<li><a href="#ipc-intrainterprocess">IPC: intra/interprocess</a></li>
<li><a href="#tcp-intrainter-network-over-tcpip">TCP: intra/inter-network over TCP/IP</a></li>
<li><a href="#ws-intrainter-network-over-websockets">WS: intra/inter-network over WebSockets</a></li>
</ul>
</li>
<li><a href="#handling-breaking-changes-to-your-procedures">Handling breaking changes to your procedures</a></li>
<li><a href="#language-implementations">Language implementations</a></li>
<li><a href="#license">License</a></li>
</ul>
</li>
</ul>

<a href="#install" id="install" style="color: inherit; text-decoration: none;">
  <h2>Install</h2>
</a>

<a href="#npm" id="npm" style="color: inherit; text-decoration: none;">
  <h3><a href="https://www.npmjs.com/package/@procedure-rpc/procedure.js" title="npm is a package manager for JavaScript">npm</a></h3>
</a>
<pre><code class="language-shell"><span class="hl-2">npm i @procedure-rpc/procedure.js</span>
</code></pre>

<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
  <h2>Usage</h2>
</a>
<p>With Procedure, setting up your function to be called from another process (whether remote or local) is remarkably simple:</p>
<pre><code class="language-js"><span class="hl-8">import</span><span class="hl-2"> </span><span class="hl-5">Procedure</span><span class="hl-2"> </span><span class="hl-8">from</span><span class="hl-2"> </span><span class="hl-7">&quot;@procedure-rpc/procedure.js&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">procedure</span><span class="hl-2"> = </span><span class="hl-1">new</span><span class="hl-2"> </span><span class="hl-4">Procedure</span><span class="hl-2">((</span><span class="hl-5">n</span><span class="hl-2">) </span><span class="hl-1">=&gt;</span><span class="hl-2"> </span><span class="hl-5">n</span><span class="hl-2"> ** </span><span class="hl-6">2</span><span class="hl-2">);</span><br/><span class="hl-5">procedure</span><span class="hl-2">.</span><span class="hl-4">bind</span><span class="hl-2">(</span><span class="hl-7">&quot;tcp://*:5000&quot;</span><span class="hl-2">);</span>
</code></pre>
<p>And calling it is just as easy:</p>
<pre><code class="language-js"><span class="hl-8">import</span><span class="hl-2"> { </span><span class="hl-5">call</span><span class="hl-2"> } </span><span class="hl-8">from</span><span class="hl-2"> </span><span class="hl-7">&quot;@procedure-rpc/procedure.js&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-1">let</span><span class="hl-2"> </span><span class="hl-5">x</span><span class="hl-2"> = </span><span class="hl-6">8</span><span class="hl-2">;</span><br/><span class="hl-1">let</span><span class="hl-2"> </span><span class="hl-5">xSquared</span><span class="hl-2"> = </span><span class="hl-8">await</span><span class="hl-2"> </span><span class="hl-4">call</span><span class="hl-2">(</span><span class="hl-7">&quot;tcp://localhost:5000&quot;</span><span class="hl-2">, </span><span class="hl-5">x</span><span class="hl-2">);</span><br/><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-4">log</span><span class="hl-2">(</span><span class="hl-5">xSquared</span><span class="hl-2">); </span><span class="hl-0">// outputs 64</span><br/><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-4">log</span><span class="hl-2">(</span><span class="hl-1">typeof</span><span class="hl-2"> </span><span class="hl-5">xSquared</span><span class="hl-2">); </span><span class="hl-0">// outputs &#39;number&#39;</span>
</code></pre>

<a href="#asyncawait" id="asyncawait" style="color: inherit; text-decoration: none;">
  <h3><code>async</code>/<code>await</code></h3>
</a>
<p>Asynchronous functions are fully supported:</p>
<pre><code class="language-js"><span class="hl-8">import</span><span class="hl-2"> { </span><span class="hl-5">ProcedureExcecutionError</span><span class="hl-2"> } </span><span class="hl-8">from</span><span class="hl-2"> </span><span class="hl-7">&quot;@procedure-rpc/procedure.js/errors&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">procedure</span><span class="hl-2"> = </span><span class="hl-1">new</span><span class="hl-2"> </span><span class="hl-4">Procedure</span><span class="hl-2">(</span><span class="hl-1">async</span><span class="hl-2"> () </span><span class="hl-1">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">response</span><span class="hl-2"> = </span><span class="hl-8">await</span><span class="hl-2"> </span><span class="hl-4">fetch</span><span class="hl-2">(</span><span class="hl-7">&quot;https://catfact.ninja/fact&quot;</span><span class="hl-2">);</span><br/><span class="hl-2">  </span><span class="hl-8">if</span><span class="hl-2"> (</span><span class="hl-5">response</span><span class="hl-2">.</span><span class="hl-5">ok</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-8">return</span><span class="hl-2"> (</span><span class="hl-8">await</span><span class="hl-2"> </span><span class="hl-5">response</span><span class="hl-2">.</span><span class="hl-4">json</span><span class="hl-2">()).</span><span class="hl-5">fact</span><span class="hl-2">;</span><br/><span class="hl-2">  } </span><span class="hl-8">else</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-8">throw</span><span class="hl-2"> </span><span class="hl-1">new</span><span class="hl-2"> </span><span class="hl-4">ProcedureExecutionError</span><span class="hl-2">(</span><br/><span class="hl-2">      </span><span class="hl-7">`</span><span class="hl-1">${</span><span class="hl-5">response</span><span class="hl-9">.</span><span class="hl-5">status</span><span class="hl-1">}</span><span class="hl-7">: </span><span class="hl-1">${</span><span class="hl-5">response</span><span class="hl-9">.</span><span class="hl-5">statusText</span><span class="hl-1">}</span><span class="hl-7">`</span><br/><span class="hl-2">    );</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}).</span><span class="hl-4">bind</span><span class="hl-2">(</span><span class="hl-7">&quot;tcp://127.0.0.1:8888&quot;</span><span class="hl-2">);</span>
</code></pre>

<a href="#parameters-and-return-types" id="parameters-and-return-types" style="color: inherit; text-decoration: none;">
  <h3>Parameters and return types</h3>
</a>
<p>Parameter and return types can be anything supported by the <a href="https://github.com/msgpack/msgpack-javascript">msgpack</a> serialization format, which covers much of JavaScript by default, and you can handle unsupported types with <a href="https://github.com/msgpack/msgpack-javascript#extension-types">Extension Types</a>. We generally recommend sticking to <a href="https://en.wikipedia.org/wiki/Passive_data_structure" title="plain old data objects">PODs</a>. It is possible to pass more complex types around in many cases - but note that they will be passed by value, <a href="#pass-by-reference">not by reference</a>.</p>
<p>Procedure supports a single parameter, or none. We considered supporting multiple parameters, but this increases the complexity of the design and leads to potentially inconsistent APIs for different language implementations, while multiple parameters can easily be simulated through the use of <a href="https://en.wikipedia.org/wiki/Passive_data_structure" title="plain old data objects">PODs</a> (e.g. object literals, property bags) or arrays in virtually any programming language.</p>
<p>If you have existing functions with multiple parameters which you want to expose as procedures, wrapping them is trivial:</p>
<pre><code class="language-js"><span class="hl-1">function</span><span class="hl-2"> </span><span class="hl-4">myFunction</span><span class="hl-2">(</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">, </span><span class="hl-5">c</span><span class="hl-2">) {</span><br/><span class="hl-2">  </span><span class="hl-8">return</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2"> + </span><span class="hl-5">b</span><span class="hl-2"> * </span><span class="hl-5">c</span><span class="hl-2">;</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">procedure</span><span class="hl-2"> = </span><span class="hl-1">new</span><span class="hl-2"> </span><span class="hl-4">Procedure</span><span class="hl-2">((</span><span class="hl-5">params</span><span class="hl-2">) </span><span class="hl-1">=&gt;</span><span class="hl-2"> </span><span class="hl-4">myFunction</span><span class="hl-2">(...</span><span class="hl-5">params</span><span class="hl-2">));</span><br/><span class="hl-5">procedure</span><span class="hl-2">.</span><span class="hl-4">bind</span><span class="hl-2">(</span><span class="hl-7">&quot;tcp://*:30666&quot;</span><span class="hl-2">);</span>
</code></pre>
<p>Which can then be called like so:</p>
<pre><code class="language-js"><span class="hl-4">call</span><span class="hl-2">(</span><span class="hl-7">&quot;tcp://localhost:30666&quot;</span><span class="hl-2">, [</span><span class="hl-6">1</span><span class="hl-2">, </span><span class="hl-6">2</span><span class="hl-2">, </span><span class="hl-6">3</span><span class="hl-2">]);</span>
</code></pre>
<p>For functions where you have optional parameters, it might make more sense to use object literals/property bags instead of arrays.</p>
<p>Functions which accept multiple parameters where only the first is required (or none) will work as is, but you will only be able to pass the first parameter via <code>call</code>.</p>

<a href="#a-note-about-null-and-undefined" id="a-note-about-null-and-undefined" style="color: inherit; text-decoration: none;">
  <h4>A note about <code>null</code> and <code>undefined</code></h4>
</a>

<a href="#optional-parameter-support" id="optional-parameter-support" style="color: inherit; text-decoration: none;">
  <h5>Optional parameter support</h5>
</a>
<p>In the JavaScript implementation of msgpack, <a href="https://github.com/msgpack/msgpack-javascript#messagepack-mapping-table"><code>undefined</code> is mapped to <code>null</code></a>. This means that all <code>undefined</code> values will be decoded as <code>null</code>, and there is no way to differentiate between the two.</p>
<p>This causes an issue for procedures which accept an optional parameter, as in most implementations of optional parameters in JavaScript, only <code>undefined</code> is coerced into a default value.</p>
<p>It also means that procedures with no return value will evaluate to <code>null</code> instead of <code>undefined</code>, which could cause unexpected behavior if you were to pass the return value of a procedure into another function as an optional parameter.</p>
<p>To handle these inconsistencies, we coerce a msgpack decoded <code>null</code> to <code>undefined</code>. This does not affect the properties of objects - they will still be evaluated as <code>null</code> when they were either <code>null</code> or <code>undefined</code>.</p>
<p>To disable this behavior, you can <a href="https://procedure-rpc.github.io/procedure.js/interfaces/procedure.ProcedureOptions.html#optionalParameterSupport">set <code>optionalParameterSupport</code> to <code>false</code></a> for either procedure definitions or calls, or both:</p>
<pre><code class="language-js"><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">procedure</span><span class="hl-2"> = </span><span class="hl-1">new</span><span class="hl-2"> </span><span class="hl-4">Procedure</span><span class="hl-2">((</span><span class="hl-5">x</span><span class="hl-2">) </span><span class="hl-1">=&gt;</span><span class="hl-2"> </span><span class="hl-5">x</span><span class="hl-2">, { </span><span class="hl-5">optionalParameterSupport:</span><span class="hl-2"> </span><span class="hl-1">false</span><span class="hl-2"> });</span><br/><span class="hl-5">procedure</span><span class="hl-2">.</span><span class="hl-4">bind</span><span class="hl-2">(</span><span class="hl-7">&quot;tcp://*:54321&quot;</span><span class="hl-2">);</span>
</code></pre>
<pre><code class="language-js"><span class="hl-8">await</span><span class="hl-2"> </span><span class="hl-4">call</span><span class="hl-2">(</span><span class="hl-7">&quot;tcp://*:54321&quot;</span><span class="hl-2">, </span><span class="hl-5">x</span><span class="hl-2">, { </span><span class="hl-5">optionalParameterSupport:</span><span class="hl-2"> </span><span class="hl-1">false</span><span class="hl-2"> });</span>
</code></pre>
<p>Note that disabling at the definition will not affect the return value, and disabling at the call will not affect the input parameter.</p>

<a href="#null-and-undefined-properties" id="null-and-undefined-properties" style="color: inherit; text-decoration: none;">
  <h5><code>null</code> and <code>undefined</code> properties</h5>
</a>
<p>For objects, we do not coerce <code>null</code> properties to <code>undefined</code>. Instead, we leave them as is, but properties with the value of <code>undefined</code> are ignored, thereby allowing those properties to be evaluated as <code>undefined</code> at the other end, while <code>null</code> properties remain <code>null</code>.</p>
<p>This operation adds some overhead, and any code that relies on the presence of a property to infer meaning may not work as expected, e.g. <code>if (&#39;prop&#39; in obj)</code>.</p>
<p>To disable this behavior, you can <a href="https://procedure-rpc.github.io/procedure.js/interfaces/procedure.ProcedureOptions.html#ignoreUndefinedProperties">set <code>ignoreUndefinedProperties</code> to <code>false</code></a> for either procedure definitions or calls, or both:</p>
<pre><code class="language-js"><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">procedure</span><span class="hl-2"> = </span><span class="hl-1">new</span><span class="hl-2"> </span><span class="hl-4">Procedure</span><span class="hl-2">((</span><span class="hl-5">x</span><span class="hl-2">) </span><span class="hl-1">=&gt;</span><span class="hl-2"> </span><span class="hl-5">x</span><span class="hl-2">, { </span><span class="hl-5">ignoreUndefinedProperties:</span><span class="hl-2"> </span><span class="hl-1">false</span><span class="hl-2"> });</span><br/><span class="hl-5">procedure</span><span class="hl-2">.</span><span class="hl-4">bind</span><span class="hl-2">(</span><span class="hl-7">&quot;tcp://*:54321&quot;</span><span class="hl-2">);</span>
</code></pre>
<pre><code class="language-js"><span class="hl-8">await</span><span class="hl-2"> </span><span class="hl-4">call</span><span class="hl-2">(</span><span class="hl-7">&quot;tcp://*:54321&quot;</span><span class="hl-2">, </span><span class="hl-5">x</span><span class="hl-2">, { </span><span class="hl-5">ignoreUndefinedProperties:</span><span class="hl-2"> </span><span class="hl-1">false</span><span class="hl-2"> });</span>
</code></pre>
<p>Note that disabling at the definition will not affect the return value, and disabling at the call will not affect the input parameter.</p>

<a href="#pass-by-reference" id="pass-by-reference" style="color: inherit; text-decoration: none;">
  <h4>Pass by reference?</h4>
</a>
<p>It is <strong>impossible</strong> to pass by reference with Procedure. All data is encoded and then sent across the wire, similar to what happens when a REST API responds to a request by sending back a JSON string/file. You can parse that JSON into an object and access its data, but you only have a <em>copy</em> of the data that lives on the server.</p>
<p>For example, if you were to implement the following procedure:</p>
<pre><code class="language-js"><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">procedure</span><span class="hl-2"> = </span><span class="hl-1">new</span><span class="hl-2"> </span><span class="hl-4">Procedure</span><span class="hl-2">((</span><span class="hl-5">x</span><span class="hl-2">) </span><span class="hl-1">=&gt;</span><span class="hl-2"> (</span><span class="hl-5">x</span><span class="hl-2">.</span><span class="hl-5">foo</span><span class="hl-2"> = </span><span class="hl-7">&quot;bar&quot;</span><span class="hl-2">)).</span><span class="hl-4">bind</span><span class="hl-2">(</span><span class="hl-7">&quot;tcp://*:33333&quot;</span><span class="hl-2">);</span>
</code></pre>
<p>And then call it like so:</p>
<pre><code class="language-js"><span class="hl-1">let</span><span class="hl-2"> </span><span class="hl-5">obj</span><span class="hl-2"> = { </span><span class="hl-5">foo:</span><span class="hl-2"> </span><span class="hl-6">123</span><span class="hl-2"> };</span><br/><span class="hl-8">await</span><span class="hl-2"> </span><span class="hl-4">call</span><span class="hl-2">(</span><span class="hl-7">&quot;tcp://*:33333&quot;</span><span class="hl-2">, </span><span class="hl-5">obj</span><span class="hl-2">);</span><br/><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-4">log</span><span class="hl-2">(</span><span class="hl-5">obj</span><span class="hl-2">); </span><span class="hl-0">// outputs &#39;{ foo: 123 }&#39;</span>
</code></pre>
<p>The <code>obj</code> object would remain unchanged, because the procedure is acting on a <em>clone</em> of the object, not the object itself. First, the object is encoded for transmission by msgpack, then sent across the wire by nanomsg, and finally decoded by msgpack at the other end into a brand new object.</p>

<a href="#error-handling" id="error-handling" style="color: inherit; text-decoration: none;">
  <h3>Error handling</h3>
</a>
<p>When unhandled exceptions occur during execution of a procedure, the procedure safely passes an error message back to be thrown at the callsite:</p>
<pre><code class="language-js"><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">procedure</span><span class="hl-2"> = </span><span class="hl-1">new</span><span class="hl-2"> </span><span class="hl-4">Procedure</span><span class="hl-2">((</span><span class="hl-5">n</span><span class="hl-2">) </span><span class="hl-1">=&gt;</span><span class="hl-2"> </span><span class="hl-5">n</span><span class="hl-2"> ** </span><span class="hl-6">2</span><span class="hl-2">);</span><br/><span class="hl-5">procedure</span><span class="hl-2">.</span><span class="hl-4">bind</span><span class="hl-2">(</span><span class="hl-7">&quot;tcp://*:5000&quot;</span><span class="hl-2">);</span>
</code></pre>
<pre><code class="language-js"><span class="hl-1">let</span><span class="hl-2"> </span><span class="hl-5">x</span><span class="hl-2"> = { </span><span class="hl-5">foo:</span><span class="hl-2"> </span><span class="hl-7">&quot;bar&quot;</span><span class="hl-2"> };</span><br/><span class="hl-1">let</span><span class="hl-2"> </span><span class="hl-5">xSquared</span><span class="hl-2"> = </span><span class="hl-8">await</span><span class="hl-2"> </span><span class="hl-4">call</span><span class="hl-2">(</span><span class="hl-7">&quot;tcp://localhost:5000&quot;</span><span class="hl-2">, </span><span class="hl-5">x</span><span class="hl-2">);</span><br/><span class="hl-0">// throws ProcedureExecutionError: An unhandled exception was thrown during procedure execution.</span>
</code></pre>
<p>There are a number of custom ProcedureErrors, all relating to a specific class of error, e.g.</p>
<ul>
<li>the procedure was not found at the endpoint,</li>
<li>the request timed out while waiting for a response,</li>
<li>the request was cancelled by the client,</li>
<li>an unhandled exception was thrown internally by either the server or the client,</li>
<li>etc.</li>
</ul>

<a href="#custom-error-messages" id="custom-error-messages" style="color: inherit; text-decoration: none;">
  <h4>Custom error messages</h4>
</a>
<p>In the event that you want to expose more detailed information back to the caller when an error occurs, you can simply throw a ProcedureError yourself:</p>
<pre><code class="language-js"><span class="hl-8">import</span><span class="hl-2"> { </span><span class="hl-5">ProcedureExecutionError</span><span class="hl-2"> } </span><span class="hl-8">from</span><span class="hl-2"> </span><span class="hl-7">&quot;@procedure-rpc/procedure.js/errors&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">procedure</span><span class="hl-2"> = </span><span class="hl-1">new</span><span class="hl-2"> </span><span class="hl-4">Procedure</span><span class="hl-2">((</span><span class="hl-5">n</span><span class="hl-2">) </span><span class="hl-1">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-8">if</span><span class="hl-2"> (</span><span class="hl-1">typeof</span><span class="hl-2"> </span><span class="hl-5">n</span><span class="hl-2"> !== </span><span class="hl-7">&quot;number&quot;</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-8">throw</span><span class="hl-2"> </span><span class="hl-1">new</span><span class="hl-2"> </span><span class="hl-4">ProcedureExecutionError</span><span class="hl-2">(</span><br/><span class="hl-2">      </span><span class="hl-7">`Expected n to be a number, got &#39;</span><span class="hl-1">${</span><span class="hl-1">typeof</span><span class="hl-9"> </span><span class="hl-5">n</span><span class="hl-1">}</span><span class="hl-7">&#39;`</span><br/><span class="hl-2">    );</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">  </span><span class="hl-8">return</span><span class="hl-2"> </span><span class="hl-5">n</span><span class="hl-2"> ** </span><span class="hl-6">2</span><span class="hl-2">;</span><br/><span class="hl-2">}).</span><span class="hl-4">bind</span><span class="hl-2">(</span><span class="hl-7">&quot;tcp://*:5000&quot;</span><span class="hl-2">);</span>
</code></pre>
<pre><code class="language-js"><span class="hl-1">let</span><span class="hl-2"> </span><span class="hl-5">x</span><span class="hl-2"> = { </span><span class="hl-5">foo:</span><span class="hl-2"> </span><span class="hl-7">&quot;bar&quot;</span><span class="hl-2"> };</span><br/><span class="hl-1">let</span><span class="hl-2"> </span><span class="hl-5">xSquared</span><span class="hl-2"> = </span><span class="hl-8">await</span><span class="hl-2"> </span><span class="hl-4">call</span><span class="hl-2">(</span><span class="hl-7">&quot;tcp://localhost:5000&quot;</span><span class="hl-2">, </span><span class="hl-5">x</span><span class="hl-2">);</span><br/><span class="hl-0">// throws ProcedureExecutionError: Expected n to be a number, got &#39;object&#39;</span>
</code></pre>

<a href="#custom-error-data" id="custom-error-data" style="color: inherit; text-decoration: none;">
  <h4>Custom error data</h4>
</a>
<p>You can optionally pass an object into the constructor of a ProcedureError and it will be attached to the <code>data</code> property of the thrown error:</p>
<pre><code class="language-js"><span class="hl-8">import</span><span class="hl-2"> { </span><span class="hl-5">ProcedureExecutionError</span><span class="hl-2"> } </span><span class="hl-8">from</span><span class="hl-2"> </span><span class="hl-7">&quot;@procedure-rpc/procedure.js/errors&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">procedure</span><span class="hl-2"> = </span><span class="hl-1">new</span><span class="hl-2"> </span><span class="hl-4">Procedure</span><span class="hl-2">((</span><span class="hl-5">n</span><span class="hl-2">) </span><span class="hl-1">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-8">if</span><span class="hl-2"> (</span><span class="hl-1">typeof</span><span class="hl-2"> </span><span class="hl-5">n</span><span class="hl-2"> !== </span><span class="hl-7">&quot;number&quot;</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-8">throw</span><span class="hl-2"> </span><span class="hl-1">new</span><span class="hl-2"> </span><span class="hl-4">ProcedureExecutionError</span><span class="hl-2">(</span><br/><span class="hl-2">      </span><span class="hl-7">`Expected n to be a number, got &#39;</span><span class="hl-1">${</span><span class="hl-1">typeof</span><span class="hl-9"> </span><span class="hl-5">n</span><span class="hl-1">}</span><span class="hl-7">&#39;`</span><span class="hl-2">,</span><br/><span class="hl-2">      { </span><span class="hl-5">n</span><span class="hl-2"> }</span><br/><span class="hl-2">    );</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">  </span><span class="hl-8">return</span><span class="hl-2"> </span><span class="hl-5">n</span><span class="hl-2"> ** </span><span class="hl-6">2</span><span class="hl-2">;</span><br/><span class="hl-2">}).</span><span class="hl-4">bind</span><span class="hl-2">(</span><span class="hl-7">&quot;tcp://*:5000&quot;</span><span class="hl-2">);</span>
</code></pre>
<pre><code class="language-js"><span class="hl-1">let</span><span class="hl-2"> </span><span class="hl-5">x</span><span class="hl-2"> = { </span><span class="hl-5">foo:</span><span class="hl-2"> </span><span class="hl-7">&quot;bar&quot;</span><span class="hl-2"> },</span><br/><span class="hl-2">  </span><span class="hl-5">xSquared</span><span class="hl-2">;</span><br/><span class="hl-8">try</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-5">xSquared</span><span class="hl-2"> = </span><span class="hl-8">await</span><span class="hl-2"> </span><span class="hl-4">call</span><span class="hl-2">(</span><span class="hl-7">&quot;tcp://localhost:5000&quot;</span><span class="hl-2">, </span><span class="hl-5">x</span><span class="hl-2">);</span><br/><span class="hl-2">} </span><span class="hl-8">catch</span><span class="hl-2"> (</span><span class="hl-5">e</span><span class="hl-2">) {</span><br/><span class="hl-2">  </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-4">error</span><span class="hl-2">(</span><span class="hl-5">e</span><span class="hl-2">?.</span><span class="hl-5">name</span><span class="hl-2">, </span><span class="hl-7">&quot;-&quot;</span><span class="hl-2">, </span><span class="hl-5">e</span><span class="hl-2">?.</span><span class="hl-5">message</span><span class="hl-2">, </span><span class="hl-5">e</span><span class="hl-2">?.</span><span class="hl-5">data</span><span class="hl-2">);</span><br/><span class="hl-2">}</span><br/><span class="hl-0">// outputs ProcedureExecutionError - Expected n to be a number, got &#39;object&#39; {</span><br/><span class="hl-0">//   n: {</span><br/><span class="hl-0">//     foo: &#39;bar&#39;</span><br/><span class="hl-0">//   }</span><br/><span class="hl-0">// }</span>
</code></pre>

<a href="#api-reference" id="api-reference" style="color: inherit; text-decoration: none;">
  <h2>API reference</h2>
</a>
<p>The full API reference for procedure.js is <a href="https://procedure-rpc.github.io/procedure.js">available on GitHub Pages</a>.</p>

<a href="#quick-links" id="quick-links" style="color: inherit; text-decoration: none;">
  <h3>Quick links</h3>
</a>
<ul>
<li><a href="https://procedure-rpc.github.io/procedure.js/stable/classes/index.Procedure.html#constructor">Initializing a procedure</a><ul>
<li><a href="https://procedure-rpc.github.io/procedure.js/stable/interfaces/index.ProcedureDefinitionOptions.html">Options</a></li>
</ul>
</li>
<li><a href="https://procedure-rpc.github.io/stable/procedure.js/classes/index.Procedure.html#bind">Binding a procedure to an endpoint</a></li>
<li><a href="https://procedure-rpc.github.io/procedure.js/stable/classes/index.Procedure.html#call">Calling a procedure</a><ul>
<li><a href="https://procedure-rpc.github.io/procedure.js/stable/interfaces/index.ProcedureCallOptions.html">Options</a></li>
</ul>
</li>
</ul>

<a href="#transports-more-than-just-tcp" id="transports-more-than-just-tcp" style="color: inherit; text-decoration: none;">
  <h2>Transports: More than just TCP!</h2>
</a>
<p>The examples in this readme all use TCP to demonstrate the most common use case for RPC. However, Procedure is built on top of <a href="https://nanomsg.org/">nanomsg</a>, which means it supports all of the same transports that nanomsg does:</p>

<a href="#inproc-intraprocess" id="inproc-intraprocess" style="color: inherit; text-decoration: none;">
  <h3>INPROC: intraprocess</h3>
</a>
<p>Call functions between threads or modules of the same process.</p>
<ul>
<li><code>inproc://foobar</code></li>
</ul>

<a href="#ipc-intrainterprocess" id="ipc-intrainterprocess" style="color: inherit; text-decoration: none;">
  <h3>IPC: intra/interprocess</h3>
</a>
<p>Call functions between different processes on the same host.</p>
<ul>
<li><code>ipc://foobar.ipc</code></li>
<li><code>ipc:///tmp/test.ipc</code></li>
<li><code>ipc://my-app/my-procedure</code></li>
</ul>
<p>On POSIX compliant systems (ubuntu, macOS, etc.), UNIX domain sockets are used and IPC addresses are file references. Both relative (<code>ipc://foobar.ipc</code>) and absolute (<code>ipc:///tmp/foobar.ipc</code>) paths may be used, assuming access rights on the files are set appropriately.</p>
<p>On Windows, named pipes are used and IPC addresses are arbitrary case-insensitive strings containing any characters except backslash (<code>\</code>).</p>

<a href="#tcp-intrainter-network-over-tcpip" id="tcp-intrainter-network-over-tcpip" style="color: inherit; text-decoration: none;">
  <h3>TCP: intra/inter-network over TCP/IP</h3>
</a>
<p>Call functions between processes across TCP with support for IPv4 and IPv6 addresses and DNS names*.</p>
<ul>
<li><code>tcp://*:80</code></li>
<li><code>tcp://192.168.0.5:5600</code></li>
<li><code>tcp://localhost:33000</code>*</li>
</ul>
<p>TLS (<code>tcp+tls://</code>) is not currently supported.</p>
<p><em><sub>* DNS names are only supported when calling a procedure, not when defining.</sub></em></p>

<a href="#ws-intrainter-network-over-websockets" id="ws-intrainter-network-over-websockets" style="color: inherit; text-decoration: none;">
  <h3>WS: intra/inter-network over WebSockets</h3>
</a>
<p>Call functions between processes across WebSockets over TCP with support for both IPv4 and IPv6 addresses and DNS names*.</p>
<ul>
<li><code>ws://*</code></li>
<li><code>ws://127.0.0.1:8080</code></li>
<li><code>ws://example.com</code>*</li>
</ul>
<p>TLS (<code>wss://</code>) is not currently supported.</p>
<p><em><sub>* DNS names are only supported when calling a procedure, not when defining.</sub></em></p>

<a href="#handling-breaking-changes-to-your-procedures" id="handling-breaking-changes-to-your-procedures" style="color: inherit; text-decoration: none;">
  <h2>Handling breaking changes to your procedures</h2>
</a>
<p>Procedure has no way of knowing what the parameter or return types of the procedure at the other end of the call will be. If you rewrite a procedure to return a different type or to accept a different parameter type, you will only get errors at runtime, not at compile time.</p>
<p>Therefore, if you are developing procedures for public consumption, be mindful of the fact that <strong>breaking changes on the same endpoint will result in unhappy consumers!</strong></p>
<p>If you do need to make breaking changes to a procedure, it is recommended to either:</p>
<ul>
<li><p>implement the breaking changes on a new endpoint, while keeping the original available:</p>
<pre><code class="language-js"><span class="hl-4">myFunction</span><span class="hl-2">(</span><span class="hl-5">x</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-8">return</span><span class="hl-2"> </span><span class="hl-4">isNaN</span><span class="hl-2">(</span><span class="hl-5">x</span><span class="hl-2">); </span><span class="hl-0">// return boolean indicating whether x is NaN</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-4">myFunctionV2</span><span class="hl-2">(</span><span class="hl-5">x</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-8">if</span><span class="hl-2"> (</span><span class="hl-4">isNaN</span><span class="hl-2">(</span><span class="hl-5">x</span><span class="hl-2">)) {</span><br/><span class="hl-2">        </span><span class="hl-0">// do stuff with x when it is NaN</span><br/><span class="hl-2">        </span><span class="hl-8">return</span><span class="hl-2"> </span><span class="hl-1">true</span><span class="hl-2">;</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">    </span><span class="hl-0">// breaking change, we no longer return a boolean in all cases</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">procedure</span><span class="hl-2"> = </span><span class="hl-1">new</span><span class="hl-2"> </span><span class="hl-4">Procedure</span><span class="hl-2">(</span><span class="hl-5">myFunction</span><span class="hl-2">).</span><span class="hl-4">bind</span><span class="hl-2">(</span><span class="hl-7">&#39;tcp://*:33000&#39;</span><span class="hl-2">);</span><br/><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">procedureV2</span><span class="hl-2"> = </span><span class="hl-1">new</span><span class="hl-2"> </span><span class="hl-4">Procedure</span><span class="hl-2">(</span><span class="hl-5">myFunctionV2</span><span class="hl-2">).</span><span class="hl-4">bind</span><span class="hl-2">(</span><span class="hl-7">&#39;tcp://*:33001&#39;</span><span class="hl-2">);</span>
</code></pre>
<pre><code class="language-js"><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">v1Result</span><span class="hl-2"> = </span><span class="hl-8">await</span><span class="hl-2"> </span><span class="hl-4">call</span><span class="hl-2">(</span><span class="hl-7">&quot;tcp://localhost:33000&quot;</span><span class="hl-2">); </span><span class="hl-0">// returns false</span><br/><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">v2Result</span><span class="hl-2"> = </span><span class="hl-8">await</span><span class="hl-2"> </span><span class="hl-4">call</span><span class="hl-2">(</span><span class="hl-7">&quot;tcp://localhost:33001&quot;</span><span class="hl-2">); </span><span class="hl-0">// returns undefined</span>
</code></pre>
</li>
<li><p>use a parameter or property to specify a version modifier, defaulting to the original when unspecified:</p>
<pre><code class="language-js"><span class="hl-4">myFunction</span><span class="hl-2">(</span><span class="hl-5">x</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-8">return</span><span class="hl-2"> </span><span class="hl-4">isNaN</span><span class="hl-2">(</span><span class="hl-5">x</span><span class="hl-2">); </span><span class="hl-0">// return boolean indicating whether x is NaN</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-4">myFunctionV2</span><span class="hl-2">(</span><span class="hl-5">x</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-8">if</span><span class="hl-2"> (</span><span class="hl-4">isNaN</span><span class="hl-2">(</span><span class="hl-5">x</span><span class="hl-2">)) {</span><br/><span class="hl-2">        </span><span class="hl-0">// do stuff with x when it is NaN</span><br/><span class="hl-2">        </span><span class="hl-8">return</span><span class="hl-2"> </span><span class="hl-1">true</span><span class="hl-2">;</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">    </span><span class="hl-0">// breaking change, we no longer return a boolean in all cases</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">procedure</span><span class="hl-2"> = </span><span class="hl-1">new</span><span class="hl-2"> </span><span class="hl-4">Procedure</span><span class="hl-2">(</span><span class="hl-5">options</span><span class="hl-2"> </span><span class="hl-1">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-8">switch</span><span class="hl-2"> (</span><span class="hl-5">options</span><span class="hl-2">?.</span><span class="hl-5">version</span><span class="hl-2">) {</span><br/><span class="hl-2">        </span><span class="hl-8">case</span><span class="hl-2"> </span><span class="hl-6">2</span><span class="hl-2">: </span><span class="hl-8">return</span><span class="hl-2"> </span><span class="hl-4">myFunctionV2</span><span class="hl-2">(</span><span class="hl-5">options</span><span class="hl-2">.</span><span class="hl-5">x</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-8">default</span><span class="hl-2">: </span><span class="hl-8">return</span><span class="hl-2"> </span><span class="hl-4">myFunction</span><span class="hl-2">(</span><span class="hl-5">options</span><span class="hl-2">.</span><span class="hl-5">x</span><span class="hl-2">);</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">}).</span><span class="hl-4">bind</span><span class="hl-2">(</span><span class="hl-7">&#39;tcp://*:33000&#39;</span><span class="hl-2">);</span>
</code></pre>
<pre><code class="language-js"><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">v1Result</span><span class="hl-2"> = </span><span class="hl-8">await</span><span class="hl-2"> </span><span class="hl-4">call</span><span class="hl-2">(</span><span class="hl-7">&quot;tcp://localhost:33000&quot;</span><span class="hl-2">); </span><span class="hl-0">// returns false</span><br/><span class="hl-1">const</span><span class="hl-2"> </span><span class="hl-3">v2Result</span><span class="hl-2"> = </span><span class="hl-8">await</span><span class="hl-2"> </span><span class="hl-4">call</span><span class="hl-2">(</span><span class="hl-7">&quot;tcp://localhost:33000&quot;</span><span class="hl-2">, { </span><span class="hl-5">version:</span><span class="hl-2"> </span><span class="hl-6">2</span><span class="hl-2"> }); </span><span class="hl-0">//returns undefined</span>
</code></pre>
<p>You may prefer to use a <a href="https://www.npmjs.com/package/semver">semver</a> compatible string for versioning.</p>
</li>
</ul>

<a href="#language-implementations" id="language-implementations" style="color: inherit; text-decoration: none;">
  <h2>Language implementations</h2>
</a>
<p>As Procedure is designed around nanomsg and msgpack, it can be implemented in any language that has both a nanomsg binding and a msgpack implementation.</p>
<p>Presently, the only official implementation of Procedure is procedure.js for Node.js, but a .NET implementation written in C# and a stripped-down browser library for calling procedures via the <a href="#ws-intrainter-network-over-websockets">WS transport</a> are currently being worked on.</p>
<!-- Placeholder for when the .NET and/or browser implementation is ready

The different language implementations of Procedure are fully compatible with one another. So, for example, a procedure written in a JavaScript Node.js application can be called by a .NET application written in C#, and vice versa!

Procedure is currently implemented in the following languages:
<table>
    <thead>
        <tr>
            <th>Implementation</th>
            <th colspan=2>Language</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td rowspan=3>
                <a href="https://procedure-rpc.github.io/Procedure.NET" target="_blank">Procedure.NET</a>
            </td>
            <td>C#</td>
            <td rowspan=3>.NET</td>
            <td rowspan=3>
                Implemented in C#, not yet confirmed to work with F# and VB - YMMV!
            </td>
        </tr>
        <tr>
            <td>F#</td>
        </tr>
        <tr>
            <td>Visual Basic</td>
        </tr>
        <tr>
            <td rowspan=2>
                <a href="https://procedure-rpc.github.io/procedure.js" target="_blank">procedure.js</a>
            </td>
            <td>JavaScript</td>
            <td rowspan=2>Node.js</td>
            <td rowspan=2>
                For Node.js apps only. For a library designed for browser use, see <a href="https://procedure-rpc.github.io/procedure.ws" target="_blank">procedure.ws</a>
            </td>
        </tr>
        <tr>
            <td>TypeScript</td>
        </tr>
        <tr>
            <td rowspan=2>
                <a href="https://procedure-rpc.github.io/procedure.ws" target="_blank">procedure.ws</a>
            </td>
            <td>JavaScript</td>
            <td rowspan=2>Browser</td>
            <td rowspan=2>
                Designed for use in the browser, only calling procedures via the <a href="#ws-intrainter-network-over-websockets">WS transport</a> is available. For a fully featured Node.js implementation, see <a href="https://procedure-rpc.github.io/procedure.js" target="_blank">procedure.js</a>
            </td>
        </tr>
        <tr>
            <td>TypeScript</td>
        </tr>
    </tbody>
</table>

-->

<p>If you would like to contribute a Procedure implementation in another language, please feel free! Create a GitHub repository for the language implementation and open an issue with us once it&#39;s ready for review! ðŸ’œ</p>

<a href="#license" id="license" style="color: inherit; text-decoration: none;">
  <h2>License</h2>
</a>
<p>procedure.js is licensed under <a href="https://github.com/procedure-rpc/procedure.js/blob/main/LICENSE">MIT</a> Â© 2022 Tobey Blaber.</p>
</div></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current selected"><a href="modules.html">@procedure-<wbr/>rpc/procedure.js -<wbr/> v0.8.3</a>
<ul>
<li class="tsd-kind-module"><a href="modules/errors.html">errors</a></li>
<li class="tsd-kind-module"><a href="modules/index.html">index</a></li></ul></li></ul></div></details></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="assets/main.js"></script><script src="assets/versionsMenu.js" type="module"></script></body></html>